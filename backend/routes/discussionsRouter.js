/***************************************************************************************************
 ******************************************* dependencies ******************************************
 **************************************************************************************************/
require('dotenv').config();
const express = require('express');
const { discussionsDB } = require('../db/models/index.js');
const router = express.Router();

/***************************************************************************************************
 ******************************************** middleware ********************************************
 **************************************************************************************************/
// None

/***************************************************************************************************
 ********************************************* Endpoints *******************************************
 **************************************************************************************************/

// get top (limit 10) daily discussions ordered by vote_count
router.get('/top-daily', async (req, res, next) => {
	try {
		discussionsDB.getTopDailyDiscussions().then(topDailyDiscussions => res.json(topDailyDiscussions));
	} catch (err) {
		next(err);
	}
});

module.exports = router;
